\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cckppbeamer}[2014/08/21 CCK Personal Preferences Beamer Class]

%% Require some packages
\RequirePackage[T1]{fontenc}
\RequirePackage{amsfonts}
\RequirePackage{amsmath}
\RequirePackage{adjustbox}
\RequirePackage{dsfont}
\RequirePackage{bm}
\RequirePackage[skins,theorems]{tcolorbox}
% \RequirePackage{parskip}

\RequirePackage{graphicx}
\RequirePackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\RequirePackage{cancel}
\RequirePackage{xcolor}
\RequirePackage{svg}

\RequirePackage{booktabs}
\RequirePackage{hyperref}
\RequirePackage{dcolumn}
\RequirePackage{threeparttable}
\RequirePackage{tabularx}
\RequirePackage{appendixnumberbeamer}

\RequirePackage{caption}
\RequirePackage[position=top]{subcaption}

%%% TIKZ
\RequirePackage{tikz}
\RequirePackage{verbatim}
\usetikzlibrary{positioning}
\usetikzlibrary{snakes}
\usetikzlibrary{calc}
\usetikzlibrary{arrows}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{shapes.misc}
\usetikzlibrary{matrix,shapes,arrows,fit,tikzmark}


%% Font, styling, etc.
% \RequirePackage{fontspec}
% \setmainfont{Linux Libertine}
% 	 [Ligatures={Common,Rare,Historic}, Numbers=OldStyle]
% \RequirePackage{libertine}
% \usepackage{helvet}
% \usepackage[default]{lato}

\newenvironment{wideitemize}{\itemize\addtolength{\itemsep}{10pt}}{\enditemize}
\newenvironment{wideenumerate}{\enumerate\addtolength{\itemsep}{10pt}}{\endenumerate}

% \setbeamertemplate{itemize items}{--}
% \setbeamertemplate{itemize items}[ball]
\setbeamertemplate{itemize items}[circle]
\setbeamertemplate{itemize subitem}{--}
\setbeamertemplate{itemize subsubitem}{--}
% \setbeamertemplate{itemize items}[default]


%%% TIKZ STUFF
	\tikzset{   
					every picture/.style={remember picture,baseline},
					every node/.style={anchor=base,align=center,outer sep=1.5pt},
					every path/.style={thick},
					}
	\newcommand\marktopleft[1]{%
			\tikz[overlay,remember picture] 
					\node (marker-#1-a) at (-.3em,.3em) {};%
	}
	\newcommand\markbottomright[2]{%
			\tikz[overlay,remember picture] 
					\node (marker-#1-b) at (0em,0em) {};%
	}
	\tikzstyle{every picture}+=[remember picture] 
	\tikzstyle{mybox} =[draw=black, very thick, rectangle, inner sep=10pt, inner ysep=20pt]
	\tikzstyle{fancytitle} =[draw=black,fill=red, text=white]
%%%% END TIKZ STUFF




% % Fancy fit image command with optional caption
\makeatletter
\newcommand{\fitimage}[2][\@nil]{
	\begin{figure}
	\begin{adjustbox}{width=0.9\textwidth, totalheight=\textheight-2\baselineskip-2\baselineskip,keepaspectratio}
		\includegraphics{#2}
	\end{adjustbox}
	\def\tmp{#1}%
	 \ifx\tmp\@nnil
		\else
		\caption{#1}
	\fi
	\end{figure}
}
\makeatother

\captionsetup[table]{position=above}
\captionsetup[table]{skip=2pt}

\newcommand{\backupbegin}{
	\newcounter{finalframe}
	\setcounter{finalframe}{\value{framenumber}}
}
\newcommand{\backupend}{
	\setcounter{framenumber}{\value{finalframe}}
}

	% If you like road maps, rather than having clutter at the top, have a roadmap show up at the end of each section 
	%   (and after your introduction)
	%   Uncomment this is if you want the roadmap!
	% \AtBeginSection[]
	% {
	%    \begin{frame}
	%        \frametitle{Roadmap of Talk}
	%        \tableofcontents[currentsection]
	%    \end{frame}
	% }


\setbeamertemplate{note page}{\pagecolor{yellow!5}\insertnote}  
	\newcommand{\beginbackup}{
		 \newcounter{framenumbervorappendix}
		 \setcounter{framenumbervorappendix}{\value{framenumber}}
		 \setbeamertemplate{footline}
		 {
			 \leavevmode%
			 \hline
			 box{%
				 \begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex,right]{footlinecolor}%
	%         \insertframenumber  \hspace*{2ex} 
				 \end{beamercolorbox}}%
			 \vskip0pt%
		 }
	 }

	\setbeamercolor{frametitle}{fg=blue}
	\setbeamercolor{title}{fg=black}
	\setbeamertemplate{footline}[frame number]
	\setbeamertemplate{navigation symbols}{} 
	\setbeamercolor{itemize item}{fg=blue}
	\setbeamercolor{itemize subitem}{fg=blue}
	\setbeamercolor{enumerate item}{fg=blue}
	\setbeamercolor{enumerate subitem}{fg=blue}
	\setbeamercolor{button}{bg=MyBackground,fg=blue,}

	\setbeamercolor{section in toc}{fg=blue}
	\setbeamercolor{subsection in toc}{fg=red}
	\setbeamersize{text margin left=1em,text margin right=1em}

%% Change the bg color to adjust your transition slide background color!
	\newenvironment{transitionframe}{
		\setbeamercolor{background canvas}{bg=white}
		\begin{frame}[noframenumbering, plain]}{\blue
			\end{frame}
	}
	%% Uncomment this if you want to change the background color to something else
	%\setbeamercolor{background canvas}{bg=MyBackground}

% Beamer Buttons
\newcommand{\button}[2]{\hyperlink{#1}{\beamergotobutton{#2}}}

% Color Settings 
	% These are my colors -- there are many like them, but these ones are mine.
	\definecolor{blue}{RGB}{0,114,178}
	\definecolor{red}{RGB}{213,94,0}
	\definecolor{redred}{RGB}{255,0,0}
	\definecolor{yellow}{RGB}{240,228,66}
	\definecolor{green}{RGB}{0,158,115}
	\definecolor{grey}{RGB}{128,128,128}
	\definecolor{cardinal}{HTML}{8C1515}
	\definecolor{brgreen}{HTML}{005630}
	\definecolor{oranje}{HTML}{ff8c00}
	% \definecolor{lightorange}{HTML}{ffaf4d}
	% \definecolor{lightorange}{HTML}{ffd19a}
	% \definecolor{lightorange}{HTML}{ffddb4}
	\definecolor{lightorange}{HTML}{ffe9ce}
	\definecolor{darkorange}{HTML}{e67e00}
	\definecolor{white}{HTML}{ffffff}
	
	\definecolor{lightcardinal}{HTML}{e65555}
	\definecolor{cardinal}{HTML}{8C1515}
	\definecolor{darkcardinal}{HTML}{490b0b}
	

	

	%% I use a beige off white for my background
	\definecolor{MyBackground}{RGB}{255,253,218}
	\newcommand{\grey}{\color{grey}}
	\newcommand{\red}{\color{cardinal}}
	\newcommand{\dred}{\color{darkcardinal}}
	\newcommand{\lred}{\color{lightcardinal}}

	\newcommand{\black}{\color{black}}
	\newcommand{\green}{\color{brgreen}}
	\newcommand{\white}{\color{white}}
	\newcommand{\blue}{\color{blue}}
	\newcommand{\orange}{\color{oranje}}
	\newcommand{\lorange}{\color{lightorange}}
	\newcommand{\dorange}{\color{darkorange}}

	\hypersetup{
		breaklinks,
		colorlinks,
		linkcolor={red!50!black},
		citecolor={blue!50!black},
		urlcolor={blue!80!black},
		% pdfauthor={Christian Kontz}
	}

	\renewcommand\CancelColor{\color{red}}

	\newtcbox{\mymath}[1][]{%
			nobeforeafter, 
			math upper,
			tcbox raise base,
			enhanced, 
			colframe=red,
			colback=white, 
			boxrule=2pt,
			drop fuzzy shadow=blue,
			#1
			}

% Caption Settings
	\captionsetup[table]{position=above}
	\captionsetup[table]{skip=2pt}

% List Settings
	% \setlist[enumerate]{topsep=1pt}

% SVG Fonts Settings
	\newcommand{\svgfontsize}[0]{\fontsize{9}{10}\selectfont}


%% Math operators
	\newcommand{\Set}[1]{\left\{ #1 \right\}}

	\newcommand{\Lim}[1]{\raisebox{0.5ex}{\scalebox{0.8}{$\displaystyle \lim_{#1}\;$}}}
	\newcommand{\dx}[1]{\mathop{\mathrm{d}#1}}
	\renewcommand{\d}[1]{\mathop{\mathrm{d}#1}}

	\newcommand{\qtext}[1]{\qquad \text{#1 }}

	\newcommand{\ubar}[1]{\underbar{#1}}
	\renewcommand{\t}[1]{\tilde{#1}}
	\newcommand{\ut}[1]{\underaccent{\tilde}{#1}}

	\newcommand{\ind}[1]{\mathds{1}_{#1}}

	\newcommand{\ub}[2]{\underbrace{#1}_{#2}}
	\newcommand{\utext}[2]{\underbrace{#1}_{#2}}
	
	\newcommand{\e}[1]{{e}^{#1}}
	\newcommand{\Exp}[1]{\operatorname{exp}\left( #1 \right)}
	\newcommand{\diag}[1]{\operatorname{diag}\left( #1 \right)}
	\newcommand*\di{\mathop{}\!\mathrm{d}}
	\newcommand{\bforall}[0]{\hspace{0.1cm} \forall \hspace{0.1cm}}

	\renewcommand{\Pr}[1]{\operatorname{Pr}\left[ #1 \right]}
	\newcommand{\E}[2]{\mathbb{E}_{#1}\left[#2\right]}
	\newcommand{\ERN}[2]{\mathbb{E}^\star_{#1}\left[#2\right]}
	\newcommand{\Et}[1]{\mathbb{E}_{#1}}
	\newcommand{\V}[2]{\mathbb{V}_{#1}\left[#2\right]}
	% \newcommand{\C}[2]{\operatorname{Cov}_{#1}\left[#2\right]}

	\newcommand{\LRE}[1]{\tilde{\mathbb{E}}\left[#1\right]}
	
	\newcommand{\var}[2]{\operatorname{Var}_{#1}\left[ #2 \right]}
	\newcommand{\corr}[2]{\operatorname{corr}_{#1}\left( #2 \right)}
	\newcommand{\cov}[2]{\operatorname{Cov}_{#1}\left[ #2 \right]}
	\newcommand{\varRN}[2]{\operatorname{Var}^{\star}_{#1}\left[ #2 \right]}

	\newcommand{\Var}[1]{\operatorname{Var}\left[ #1 \right]}
	\newcommand{\Cov}[1]{\operatorname{Cov}\left[ #1 \right]}
	\newcommand{\Log}[1]{\operatorname{log}\left( #1 \right)}
	\newcommand{\Ln}[1]{\operatorname{ln}\left( #1 \right)}


	\DeclareMathOperator*{\argmin}{\arg\!\min}
	\DeclareMathOperator*{\argmax}{\arg\!\max}
	\DeclareMathOperator*{\plim}{plim}
	\DeclareMathOperator*{\supp}{supp}

	\newcommand{\vect}[1]{\boldsymbol{#1}}
	\newcommand{\Lra}{\Leftrightarrow}
	\newcommand{\Ra}{\Rightarrow}
	\newcommand{\La}{\Leftarrow}
	\newcommand{\ra}{\rightarrow}
	\newcommand{\la}{\leftarrow}

	\newcommand{\R}[1]{\mathbb{R}^{#1}}
	\newcommand{\N}{\mathbb{N}}

	\newcommand{\sto}{\text{subject to}\quad}

	\newcommand{\sdif}[2]{\frac{\partial^2 #1}{\partial #2 ^2}}
	\newcommand{\cdif}[3]{\frac{\partial^2 #1}{\partial #2 \partial #3 }}
	\newcommand{\fdif}[2]{\frac{\partial #1}{\partial #2}}

	\newcommand\sosd{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily SOSD}}}{>}}}
	\newcommand\fosd{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily FOSD}}}{>}}}

	\newcommand{\mat}[1]{\begin{pmatrix} #1 \end{pmatrix}}
	\newcommand{\bmat}[1]{\begin{bmatrix} #1 \end{bmatrix}}
	\newcommand{\eqz}{\overset{!}{=}0}

	\newcommand{\foc}{\text{FOC:}}
	\newcommand{\soc}{\text{SOC:}}
	\newcommand{\nn}{\nonumber \\}

	% Sets
	\newcommand{\union}{\cup}


	% Linear Algebra
	\newcommand{\rank}[1]{\operatorname{rank}\left( #1 \right)}

	\newcommand\Circle[1]{%
		\def\useanchorwidth{T}%
		\def\stacktype{L}%
		\stackon[0pt]{#1}{\scalebox{2.8}[1.15]{\textcolor{red}{$\bigcirc$}}}%
	}

% New Environments
	\newenvironment{result}{%
			\empheq[box={\mymath}]{align*}}{\endempheq}

	 \newenvironment{resultnum}{%
			\empheq[box={\mymath}]{align}}{\endempheq}

	\newenvironment{prompt}[1][]{%
		\tcolorbox[nobeforeafter, 
		tcbox raise base,
		title={#1},
		% coltitle=black,
		enhanced, 
		width=\textwidth,
		colframe=grey,
		colback=lgrey, 
		boxrule=2pt,
		drop fuzzy shadow=grey]}%
		{\endtcolorbox}
	
	\newenvironment{ans}[1][]{%
		\setlength{\abovedisplayskip}{4pt}
		\setlength{\belowdisplayskip}{4pt}
		\tcolorbox[nobeforeafter, 
		tcbox raise base,
		enhanced, 
		width=\textwidth,
		title={#1},
		colframe=red!75!black,
		colback=red!10, 
		boxrule=2pt,
		drop fuzzy shadow=blue]}
		{\endtcolorbox}

% Utility Functions & Preferences
	\newcommand{\wpr}{\succsim}
	\newcommand{\spr}{\succ}
	\newcommand{\crra}[1]{\frac{\left(#1\right)^{1-\gamma}}{1-\gamma}}
	\newcommand{\risk}{1-\gamma}

% Distributions
	\newcommand{\Normal}[2]{
		\ifthenelse{\equal{#1}{} \AND \equal{#2}{}}{\mathcal{N}\left(\mu,\sigma^2\right)}{\mathcal{N}\left(#1,#2\right)}%
	}

% Text commands
	\newcommand{\cp}{ceteris paribus }
	\newcommand{\st}{such that }

% Game Theory
	% \newcommand{\Game}[1]{\Gamma \left(#1\right)}
	% \renewcommand{\Game}[1]{\Gamma \left(#1\right)}
	\newcommand{\NE}{Nash equilibrium }
	\newcommand{\BNE}{Bayesian Nash equilibrium }
	\newcommand{\PSNE}{pure strategy Nash equilibrium }
	\newcommand{\MSNE}{mixed strategy Nash equilibrium }
	\newcommand{\SPE}{subgame perfect equilibrium }
	\newcommand{\THPE}{trembling hand perfect equilibrium }

% Finance
	\newcommand{\SDF}{stochastic discount factor }

% Theorems etc.
	\newtheorem{theo}{Theorem}
	\newtheorem{defi}{Definition}
	\newtheorem{prop}{Proposition}
	\newtheorem{rema}{Remark}
	\newtheorem{claim}{Claim}
	\newtheorem{coro}{Corollary}
	% \newtheorem{Problem}{Problem}

	% \newtheorem*{probcont}{Problem \continuation}
	% \newcommand{\continuation}{??}
	% \newenvironment{continueproblem}[1]
	%  {\renewcommand{\continuation}{\ref{#1}}\probcont[continued]}
	%  {\endprobcont}